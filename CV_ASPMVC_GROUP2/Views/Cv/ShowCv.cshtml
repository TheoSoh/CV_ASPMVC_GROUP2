@model CV_ASPMVC_GROUP2.Models.ShowCvViewModel
@{
    ViewData["Title"] = "Index";
}

<div class="card" style="width:300px" >
    <img src="~/Images/@Html.ValueFor(model => model.User.ProfilePicture)" class="card-img-top" alt="Profilbild" asp-append-version="true" />
    <div class="card-body">
        <h2>Kontaktuppgifter</h2>
        <h5 class="card-title">Namn: @Html.DisplayFor(model => model.User.FirstName) @Html.DisplayFor(model => model.User.LastName)</h5>
        <p>Telefonnummer: @Html.DisplayFor(model => model.User.PhoneNumber)</p>
        <p>Email: @Html.DisplayFor(model => model.User.Email)</p>
    </div>
</div>

@if(Model.User.UserName.Equals(User?.Identity?.Name))
{
    <a class="btn btn-dark" asp-action="EditCv" asp-controller="Cv" asp-route-id="@Model.Cv.Id">Redigera Cv</a>
    <a class="btn btn-dark" asp-action="CreateCompetence" asp-controller="Competence">Lägg till kompetens</a>
    <a class="btn btn-dark" asp-action="CreateExperience" asp-controller="Experience">Lägg till erfarenhet</a>
    <a class="btn btn-dark" asp-action="CreateEducation" asp-controller="Education">Lägg till utbildning</a>
}

<div class="container-fluid">
    <h5>@Html.DisplayNameFor(model => model.Cv.ImageFile)</h5>
    <img src="~/Images/@Html.ValueFor(model => model.Cv.CvImage)" class="img-fluid" alt="CV-bild" asp-append-version="true" height="200px" width="200px" />
    <br />
    <h5>@Html.DisplayNameFor(model => model.Cv.Description)</h5>
    <p>@Html.DisplayFor(model => model.Cv.Description)</p>
</div>

@foreach(var item in Model.Educations) 
{
    <div class="card">
        <h5 class="card-title">@Html.DisplayNameFor(model => item.Name)</h5>
        <p>@Html.DisplayFor(model => item.Name)</p>
        <h5 class="card-title">@Html.DisplayNameFor(model => item.Description)</h5>
        <p>@Html.DisplayFor(model => item.Description)</p>
        @if (Model.User.UserName.Equals(User?.Identity?.Name))
        {
            <a class="btn btn-dark" asp-action="Delete" asp-controller="Education" asp-route-id="@item.Id">Ta bort utbildning</a>
        }
    </div>
    <br />
}

@foreach(var item in Model.Experiences)
{
    <div class="card">
        <h5 class="card-title">@Html.DisplayNameFor(model => item.Name)</h5>
        <p>@Html.DisplayFor(model => item.Name)</p>
        <h5 class="card-title">@Html.DisplayNameFor(model => item.Description)</h5>
        <p>@Html.DisplayFor(model => item.Description)</p>
        @if (Model.User.UserName.Equals(User?.Identity?.Name))
        {
            <a class="btn btn-dark" asp-action="DeleteExperience" asp-controller="Experience" asp-route-id="@item.Id">Ta bort erfarenhet</a>
        }
    </div>
    <br />
}

@foreach(var item in Model.Competences)
{
    <div class="card">
        <h5 class="card-title">@Html.DisplayNameFor(model => item.Name)</h5>
        <p>@Html.DisplayFor(model => item.Name)</p>
        <h5 class="card-title">@Html.DisplayNameFor(model => item.Description)</h5>
        <p>@Html.DisplayFor(model => item.Description)</p>
        @if (Model.User.UserName.Equals(User?.Identity?.Name))
        {
            <a class="btn btn-dark" asp-action="Delete" asp-controller="Competence" asp-route-id="@item.Id">Ta bort kompetens</a>
        }
    </div>
    <br />
}

<div style="height:50px" class="container-fluid"></div>